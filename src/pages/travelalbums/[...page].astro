---
import BaseLayout from '../../layouts/BaseLayout.astro';
import jsonData from '../../assets/data/travel_album.json';
import Paginator from "../../components/Paginator.astro" ;
import PhotoCard from "../../components/PhotoCard.astro";
let pageTitle = 'Travel Albums';
export async function getStaticPaths({ paginate }) {
  const photoPages = jsonData;
  // No need for JSON.parse since jsonData is already an array
  return paginate(photoPages, { pageSize: 12 });
}
// All paginated data is passed on the "page" prop
const { page } = Astro.props;
---
<BaseLayout  pageTitle={pageTitle}>
    <div class="p-4" data-pagefind-ignore>
        <h1 class="text-balance pb-4 text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500">{pageTitle}</h1>
        <p class="prose md:prose-lg lg:prose-xl dark:prose-invert max-w-none">âš¡ Moving away from <a href="https://www.flickr.com/photos/santm/albums">Flickr</a> to Google Photos. Embracing the convenience of creating and collaborating effortlessly, especially in this era where most memories are captured through mobile phones.</p>
      </div>
    <div class="flex flex-wrap -mx-1 lg:-mx-4" data-pagefind-ignore="all">
        {
            page.data.map(({ title, link, img_src, description  }) => (
        <PhotoCard img_src={img_src} title={title} link={link} description={description}></PhotoCard>
      
           ))
          }
    </div>
    <Paginator page={page} /> 
</BaseLayout>