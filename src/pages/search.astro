---
import BaseLayout from "@layouts/BaseLayout.astro";
let title = 'Search';
let description = 'A simple client side search page using pagefind' ;
---
<BaseLayout content={{ title, description }}>
  <slot slot="head">
    {/* 1. Include the Pagefind stylesheet */}
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
  </slot>
  <slot>
     <div class="p-4" data-pagefind-ignore>
      <h1 class="pb-4 text-4xl md:text-6xl font-extrabold text-transparent bg-gradient-to-r from-rose-500 to-violet-500 dark:from-blue-400 dark:via-indigo-500 dark:to-violet-800 bg-clip-text no-underline">Search</h1>
      <p class="prose md:prose-lg lg:prose-xl dark:prose-invert max-w-none">A simple client side search page using pagefind</p>
      {/* 2. Define where the UI should be created */}
      <div id="search"></div>
    </div>


    {/* 3. Include the Pagefind script */}
    <script is:inline src="/pagefind/pagefind-ui.js" defer="true"></script>

    {/* 4. Initialize things */}
    <script is:inline>


// Add the event listener

// document.addEventListener("DOMContentLoaded", function()
//             {
//                 new PagefindUI({ element: "#search", resetStyles: false });
//             });
document.addEventListener("astro:page-load", function()
            {
                new PagefindUI({ element: "#search", resetStyles: false });
            });   
    </script>
</slot>
</BaseLayout>
<style is:global>
  :root {
  --pagefind-ui-scale: 1.125;
  --pagefind-ui-primary: #034ad8;
  --pagefind-ui-text: #393939;
  --pagefind-ui-background: #ffffff;
  --pagefind-ui-border: #eeeeee;
  --pagefind-ui-tag: #eeeeee;
  --pagefind-ui-border-width: 2px;
  --pagefind-ui-border-radius: 8px;
  --pagefind-ui-image-border-radius: 8px;
  --pagefind-ui-image-box-ratio: 3 / 2;
  --pagefind-ui-font: sans-serif;
  --pagefind-ui-result-text: #6b7280; /* gray 500*/
  --pagefind-ui-result-title-text: #ec4899; /* pink 500*/
}
.pagefind-ui__result-excerpt {
 color: #6b7280; /* gray 500*/
 font-weight: 400;
  }
.pagefind-ui__result-title,  .pagefind-ui__result-link {
 display: inline-block;
 font-weight: 700;
 font-size: calc(20px * var(--pagefind-ui-scale));
 color: #ec4899; /* pink 500*/
 }
 #search .pagefind-ui__search-clear {
 
    color: #ffffff; /* text-white */
    background-color: #3b82f6; /* bg-blue-700 */
    transition-duration: 150ms;
    transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 0.375rem; /* rounded-lg */
    font-weight: 500; /* font-medium */
    font-size: 1.1rem; /* text-sm */
    outline: none;
    cursor: pointer;
    padding: 0.625rem 1.25rem; /* px-5 py-2.5 */
    text-align: center;
    width: min-content;
    max-width: none;
    display: inline-block;
    text-decoration: none;
}

 #search .pagefind-ui__search-input {
  background-color: #f9fafb; /* bg-gray-50 */
  border: 1px solid #d1d5db; /* border-gray-300 */
  color: #1f2937; /* text-gray-900 */
  font-size: 0.875rem; /* text-sm */
  border-radius: 0.375rem; /* rounded-lg */
  outline: none;
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  padding: 0.625rem 0.875rem; /* p-2.5 */
 }
</style>