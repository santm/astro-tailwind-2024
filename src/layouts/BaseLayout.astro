---
const { pageTitle } = Astro.props;
import Header from "../components/Header.astro";
---

<!doctype html>
<html lang="en" class="dark [--scroll-mt:9.875rem] lg:[--scroll-mt:6.3125rem]">
  <head>
    <title>{pageTitle}</title>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="title" content={pageTitle} />
    <!-- Favicon  -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <!-- Navlink styling -->
    <script>
      const navlinks = document.querySelector("#navlinks");
      const hamburger = document.querySelector("#hamburger");
      const layer = document.querySelector("#navLayer");
      const links = [...navlinks.querySelector("ul").children];

      let isToggled = false;

      function toggleNavlinks() {
        if (isToggled) {
          navlinks.classList.add(
            "!visible",
            "!scale-100",
            "!opacity-100",
            "!lg:translate-y-0"
          );
          hamburger.classList.add("toggled");
          layer.classList.add("origin-top", "scale-y-100");
        } else {
          navlinks.classList.remove(
            "!visible",
            "!scale-100",
            "!opacity-100",
            "!lg:translate-y-0"
          );
          hamburger.classList.remove("toggled");
          layer.classList.remove("origin-top", "scale-y-100");
        }
      }

      hamburger.addEventListener("click", () => {
        isToggled = !isToggled;
        toggleNavlinks();
      });

      links.forEach((link) => {
        link.addEventListener("click", () => {
          isToggled = !isToggled;
          toggleNavlinks();
        });
      });
    </script>
  </head>
  <body
    class="antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900"
  >
    <Header />
    <slot />
  </body>
</html>
