---
const { pageTitle } = Astro.props;
import Container from "../components/Container.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import '../assets/styles/custom.css';
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content="" />
    <title>{pageTitle}</title>    
      <!-- this should remain in head section but a diff include file to make the code clean 
      -->
      <script>
        // On page load or when changing themes, best to add inline in `head` to avoid FOUC
        const theme = (() => {
          if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
            return localStorage.getItem("theme") || "light"; // Use "light" as default if null
          }
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            return "dark";
          }
          return "light";
        })();
        
        if (theme === "light") {
          document.documentElement.classList.remove("dark");
        } else {
          document.documentElement.classList.add("dark");
        }
        
        window.localStorage.setItem("theme", theme);
        
        const handleToggleClick = () => {
          const element = document.documentElement;
          element.classList.toggle("dark");
        
          const isDark = element.classList.contains("dark");
          localStorage.setItem("theme", isDark ? "dark" : "light");
        };
        
        // Check if getElementById returns a truthy value before adding an event listener
        const themeToggle = document.getElementById("themeToggle");
        if (themeToggle) {
          themeToggle.addEventListener("click", handleToggleClick);
        } else {
          console.error("Element with ID 'themeToggle' not found");
        }
        
          </script>

  </head>
  <body class="antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900">
    <!-- <Header1 /> -->
    <Header/>
    <div class="relative">
      <Container>  
          <div class="relative pt-36 pb-10 ml-auto">
              <slot />
          </div>
      <Container />
  </div>
    <Footer />
    
</body>
</html>
